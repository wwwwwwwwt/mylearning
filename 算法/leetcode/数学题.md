<!--
 * @Author: zzzzztw
 * @Date: 2023-04-25 09:06:23
 * @LastEditors: Do not edit
 * @LastEditTime: 2023-08-26 20:50:19
 * @FilePath: /myLearning/算法/leetcode/数学题.md
-->
# 数学题

## 常见数学题模板

1. 判断n是不是质数

```cpp
#include <bits/stdc++.h>
using namespace std;

bool is_prime(int n){
    if(n < 2)return false;
    for(int i = 2; i <= n / i; i++){
        if(n % i == 0)return false;
    }
    return true;
}

int main(){
    int n;
    cin>>n;
    int a;
    while(n--){
        cin>>a;
        if(is_prime(a))cout<<"Yes"<<endl;
        else cout<<"No"<<endl;
    }
    return 0;
}

```

2. 分解质因数，如6 分解成 2 3， 8分解成2

```cpp
#include <bits/stdc++.h>
using namespace std;

void is_prime(int n){
    for(int i = 2; i <= n / i; i++){
        int s = 0;
        while(n % i == 0){
            s++;
            n /= i;
        }
        if(s)cout<<i<<" "<<s<<endl;
    }
    if(n > 1)cout<<n<<" "<<1<<endl;
    cout<<endl;
}

int main(){
    int n;
    cin>>n;
    int a;
    while(n--){
        cin>>a;
        is_prime(a);
    }
    return 0;
}

```

3. 筛质数

```cpp
1. 埃氏筛
#include <bits/stdc++.h>
using namespace std;
const int N = 1e7 + 10;
bool st[N];
int prime[N];
int cnt;

void is_prime(int n){
    for(int i = 2; i <= n; i++){
        if(!st[i]){
            prime[cnt++] = i;
            for(int j = i; j <= n / i; j++)st[i * j] = true;
        }
    }
}

int main(){
    int n;
    cin>>n;
    is_prime(n);
    cout<<cnt<<endl;
    return 0;
}
2. 线性筛

#include <bits/stdc++.h>
using namespace std;
const int N = 1e7 + 10;
bool st[N];
int prime[N];
int cnt;
void is_prime(int n){
    for(int i = 2; i <= n; i++){
        if(!st[i])prime[cnt++] = i;
        for(int j = 0; prime[j] <= n / i; j++){
            st[prime[j] * i] = true;
            if(i % prime[j] == 0)break;
        }
    }
}

int main(){
    int n;
    cin>>n;
    is_prime(n);
    cout<<cnt<<endl;
    return 0;
}


```


4. 剑指offer62， 圆圈中最后剩下的数字，约瑟夫环

* 思路从最后向前推，每次都是在末尾加上前面的m个位置，然后再以最大长度为i向右推m个位置（关键）

```cpp

class Solution {
public:

    int lastRemaining(int n, int m) {
        int pos = 0;
        for(int i= 2; i<=n;i++){
            pos = (pos + m)%i;
        }
        return pos;
    }
};


```