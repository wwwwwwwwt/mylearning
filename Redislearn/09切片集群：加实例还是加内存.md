<!--
 * @Author: zzzzztw
 * @Date: 2023-03-23 21:13:25
 * @LastEditors: Do not edit
 * @LastEditTime: 2023-03-25 18:24:30
 * @FilePath: /cpptest/Redislearn/09切片集群：加实例还是加内存.md
-->
# 切片集群：数据增多了，是该加内存还是加实例？
1. 如果redis保存了5000万个键值对，每个键值对大约是512B，那么我们该怎么选择redis云主机的内存容量
* 512B * 5000w 约等于 25G 当redis进行持久化RDB快照时，redis会fork出一个子线程后台进行全局复制生成RDB文件进行数据快照，fork的时间和reids数据量成正比，这个fork操作由主线程完成会阻塞主线程，导致整个redis响应很慢，影响性能。
2. 所以我们应该选择另一种方案：切片集群

## 切片集群，也叫分片集群

1.意思就是启动多个redis实例组成一个集群，然后按照一定的规定，把收到的数据划分成多份，每一份都用一个实例来保存，如下 25GB的数据分成五个实例，每个实例平均为5GB

<center>

![](img/09(1).png)
</center>

