# 28 到底可不可以使用join联表查询

可以，如果可以使用被驱动表的索引，那么join语句有优势。不能使用被驱动表索引的话就尽量不要使用，使用join尽量让小表做驱动。不使用join就利用循环嵌套来查，select表一的所有数据，取每一行的字段值R$.a，再嵌套select * from 另一个表 where a = $r.a。


# 29 join语句怎么优化

略了

# 30 为什么临表可以重名

1. 建表语法 create temporary table ....
2. 临时表只能被创建它的线程访问，其他线程不可见
3. 临时表可以与普通表同名，但优先级大于普通表，增删改查这个表名都时临时表
4. show tables命令不显示临时表
5. 线程结束自动回收临时表。

# 31 什么时候会使用内部临时表

- 两种操作， 1. union 注意 union all没有去重功能，所以不需要内部临时表。 2. group by， group by可以通过增加组索引来优化查找。


# 32 自增id一定是自增，但不一定连续

- 自增值老版本保存在缓存中，每次打开都找最大id+1， 新版本redo log中
- 当唯一索引冲突时不连续
- 当进行事务回滚时不连续
- 自主申请批量id
- 自增id锁目前全是默认级别2， 即申请到id后就释放， 为1是语句执行完就自增+1
- 自增锁id不能回退是为了性能，不用额外的检查之类的。